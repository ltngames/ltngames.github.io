<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="UTF-8">

<head>
  <link rel="stylesheet" type="text/css" href="/static/css/style.css">
</head>

{% include 'header.html' %}

<div id="content">
  <div class="container has-text-centered">
    <h1 class="title">Games</h1>
    <h3 class="subtitle">Explore our collection of top-tier RPG Maker plugins</h3>
    <div class="card-list">
      <!-- --------------- -->
      <!-- Games -->
      <!-- --------------- -->
      {% for game in gameData %}

      <div class="media-card" data-type="premium">
        <div class="media-card-load">
          <img src="{{game.thumbnail}}" loading="lazy" alt="Game Thumbnail">
        </div>

        <div class="media-card-content">
          {{game.shortText}}
        </div>

        <div class="media-card-buttons">
          <a class="card-button" href={{game.link}}>
            <i class="iconoir-itch"></i>
            View
          </a>
        </div>
      </div>

      {% endfor %}

    </div>
  </div>
</div>

<script>
  const imgDivs = document.querySelectorAll('.media-card-load');

  imgDivs.forEach((imgDiv) => {
    const img = imgDiv.querySelector('img');
    img.addEventListener('load', () => {
      // imgDiv.classList.remove('media-card-load');
      imgDiv.classList.add('media-card-loaded');
    });
  });
</script>
{% include 'footer.html' %}

</html>